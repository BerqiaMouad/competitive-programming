/*
                                                                                    
                                                  ████                              
                                                ██▓▓██                              
                                              ▒▒▓▓▒▒██                              
                              ██            ██▒▒▒▒▒▒██                              
                              ██          ▒▒▓▓▒▒▒▒▓▓██                              
                              ██▓▓      ▓▓▓▓▒▒▒▒▒▒████                              
                            ██▒▒██    ██▒▒▒▒▒▒▒▒██████        ██████████            
                            ██▒▒▒▒██  ██▒▒▒▒▒▒▒▒██████  ██████▒▒▒▒▒▒████            
                            ██▒▒▒▒████▒▒▒▒▒▒▒▒██████████▒▒▒▒▒▒▒▒████████            
                            ██▒▒▒▒████▒▒▒▒▒▒▒▒████████▓▓▒▒▒▒▒▒▓▓██████              
                          ▒▒▓▓▒▒▒▒████▒▒▒▒▒▒▓▓██████▓▓▒▒▒▒▓▓▓▓████████              
                          ██▒▒▒▒▒▒████▒▒▒▒████████████▓▓████████████                
                  ▓▓      ██▒▒▒▒▒▒████▒▒████████████████████████████                
                  ██▓▓    ██▒▒▒▒▓▓████████████████▓▓████████████████▓▓              
                  ██▓▓▓▓▓▓▓▓▒▒▒▒████████████▓▓▒▒▓▓████████████████████▓▓▓▓          
                  ██▒▒▓▓██▒▒▒▒▒▒██████████▒▒▒▒▒▒██████████████████████████▒▒▓▓      
                  ██▒▒▒▒▒▒▒▒▒▒▒▒██████████▒▒██████████████▓▓▓▓██████████████        
                    ██▒▒▒▒██▒▒▒▒████████▓▓██████████████▓▓████████████████          
                    ██▒▒▒▒████▒▒████████████████████████████████████████            
                      ██▒▒████████▓▓██████████████████████████████████              
                  ▓▓▓▓████▓▓████▒▒░░██████████▒▒██████████████████████▓▓            
                    ████████████▒▒░░░░██████▓▓▒▒▒▒██████▒▒████████████              
                      ████████████░░░░  ▒▒██▓▓▒▒▒▒████▒▒▒▒██████████                
                        ██████████░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒██████████                  
                        ██████████░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒████████████                
                          ████████▒▒░░░░░░░░░░░░  ▒▒▒▒██▒▒████████                  
                          ██░░████▓▓▒▒    ░░░░░░  ▒▒▓▓██▒▒▓▓████░░                  
                          ██░░▒▒██▒▒▒▒▓▓▓▓▓▓▒▒▒▒▓▓▓▓████▒▒▒▒██                      
                          ██░░▒▒░░▒▒  ████▒▒▒▒▒▒▓▓██████▒▒▒▒██                      
                            ██░░    ▒▒████▒▒░░░░░░██▓▓██▒▒▒▒██                      
                              ▓▓▒▒░░░░░░░░░░░░░░░░████▒▒▒▒▓▓████▓▓                  
                                ██░░░░░░░░░░░░░░▒▒▒▒▒▒████  ░░░░░░██                
                              ▒▒▒▒▓▓░░░░░░░░░░░░▒▒▒▒▓▓░░░░░░░░░░  ▒▒▒▒              
                              ██▒▒▒▒▓▓▒▒░░  ▓▓▓▓▓▓▒▒██░░░░░░░░░░░░▒▒▒▒▓▓            
                              ██▒▒▒▒░░▓▓▓▓▒▒░░░░▒▒▓▓░░░░░░░░░░░░▒▒▒▒▒▒██            
              ▓▓██▓▓          ██▒▒▒▒  ░░▓▓▓▓▓▓▓▓▓▓██░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▓▓          
            ▓▓▒▒▒▒▒▒▓▓          ▓▓▒▒░░░░██▓▓▓▓▓▓████  ░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒██          
    ▓▓▓▓▓▓▓▓██▓▓▓▓▒▒▒▒▓▓          ██    ██▓▓▒▒▓▓▓▓██▒▒▒▒░░░░░░▒▒▒▒▒▒▒▒▒▒██          
    ██░░░░░░░░██▓▓▒▒▒▒██▓▓▓▓▓▓▓▓▓▓██░░  ██▓▓▒▒▒▒▓▓██▒▒░░░░░░░░▒▒▒▒▓▓▓▓▓▓▒▒▓▓        
      ▓▓▓▓▓▓░░░░░░░░░░░░██▒▒▒▒▒▒▒▒██  ░░░░██▒▒▒▒██▒▒░░░░░░░░░░▒▒▒▒▓▓▓▓██▒▒▒▒▓▓      
░░██▓▓████▒▒▒▒  ░░  ░░░░░░██▒▒▒▒▒▒▒▒▓▓  ░░░░▒▒▒▒██░░  ░░░░░░░░▒▒▓▓▓▓▓▓▓▓▒▒▒▒██      
░░██  ░░░░░░░░░░░░░░░░░░░░▒▒████▒▒▒▒██  ░░░░  ██  ░░░░░░░░░░░░██▓▓▓▓▓▓▒▒▒▒▒▒██      
    ▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░██████▓▓▓▓▓▓████░░░░░░░░░░░░░░██▓▓▓▓▒▒▒▒▒▒▒▒██▓▓    
        ██▓▓▒▒▒▒  ░░░░▒▒▒▒░░░░░░░░░░░░░░░░░░▒▒▒▒░░░░░░  ░░░░▒▒▓▓████▒▒▒▒▒▒▒▒██▒▒▓▓  
          ██▒▒▒▒░░░░░░▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░▒▒  ░░░░░░▒▒▒▒▒▒████▒▒██▒▒▒▒▒▒██▒▒██  
            ██████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒██▒▒▒▒▒▒██████▒▒▒▒▒▒██
                ░░  ░░░░      ████░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
          ░░  ░░░░░░░░░░░░░░░░    ████░░░░  ░░░░░░░░░░░░▒▒▒▒██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██
            ░░░░░░░░░░░░░░░░░░░░░░  ░░██▒▒░░░░░░░░░░░░░░▒▒██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░  
              ░░░░░░░░░░░░░░░░░░░░░░░░██████▒▒▒▒▒▒▒▒░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒      
                  ░░░░░░░░░░░░░░░░░░██  ░░  ██████▒▒░░░░██▒▒    ▒▒▒▒▒▒▒▒▒▒          
                        ░░░░░░░░░░░░██    ░░░░    ██████▒▒▒▒▒▒▒▒                    
                            ░░░░▓▓▓▓██            ░░░░░░▒▒▒▒▒▒░░            
*/


#include <bits/stdc++.h>
#include <vector>
using namespace std;

typedef long long ll;
#define all(c) c.begin(), c.end()


int main(){
	ios_base::sync_with_stdio(0);
	cin.tie(0);

	#ifndef ONLINE_JUDGE

	freopen("in.txt", "r", stdin);
	freopen("out.txt", "w", stdout);

	#endif

	ll t; cin >> t;
	while(t--){
		ll n; cin >> n;
		vector<ll> a(n);
		ll mx = 0;
		ll s = 0;
		for(int i =0; i< n; i++){
			cin >> a[i];
			mx = max(mx, a[i]);
			s += a[i];
		}
		
		if(n >= 4){
			cout << mx * n << "\n";
		}
		else {
			if(n == 2){
				cout << max(s, abs(a[0] - a[1]) * 2ll) << "\n";
			}
			else {
				s = max(s, 3 * a[0]);
				s = max(s, 3 * a[2]);
				s = max(s, 3 * abs(a[0] - a[2]));
				s = max(s, 3 * abs(a[0] - a[1]));
				s = max(s, 3 * abs(a[1] - a[2]));
				cout << s << "\n";
			}
		}
	}

	return 0;
}
